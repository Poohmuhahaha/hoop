---
import type { CollectionEntry } from "astro:content";
import Navigation from "../components/ui/Navigation.astro";
import Footer from "../components/ui/Footer.astro";
import { Image } from "astro:assets";
import Container from "../components/ui/Container.astro";

type Props = CollectionEntry<"knowledgehub">;
const { title, pubDate, updatedDate, heroImage, description } = (
  Astro.props as Props
).data;
---

<html lang="en">
  <head>
    <meta charset="UTF-8">
  </head>
  <body>
    <section class="knowledge-content">
      <Navigation />
      <Container>
        <h1 class="title">{title}</h1>
        <div class="date">
          {pubDate && `Published: ${new Date(pubDate).toLocaleDateString()}`}
          {
            updatedDate && (
              <span>
                {" "}
                | Updated: {new Date(updatedDate).toLocaleDateString()}
              </span>
            )
          }
        </div>

        {
          heroImage && (
            <div class="hero-image-container">
              <Image
                class="hero-image"
                src={heroImage}
                width={1280}
                height={643}
                alt={title}
              />
              {description && <div class="image-description">{description}</div>}
            </div>
          )
        }

        <div class="content">
          <slot />
        </div>
      </Container>

      <Footer />
    </section>
  </body>
</html>

<style is:global>
  @import "../styles/global.css";

  .content h2 {
    font-weight: bold;
    font-size: 40px;
    color: var(--color-primary-dark);
    padding-bottom: var(--spacing-between);
    padding-top: var(--spacing-between);
  }
  .content h3 {
    font-weight: bold;
    font-size: 36px;
    color: var(--color-primary-dark);
    padding-bottom: var(--spacing-between);
    padding-top: var(--spacing-between);
  }
  .content h4 {
    font-weight: bold;
    font-size: 32px;
    color: var(--color-primary-dark);
    padding-bottom: var(--spacing-between);
    padding-top: var(--spacing-between);
  }
  .content h5 {
    font-weight: bold;
    font-size: 28px;
    color: var(--color-primary-dark);
    padding-bottom: var(--spacing-between);
    padding-top: var(--spacing-between);
  }
  .content p {
    font-size: 24px;
  }
  .content ul {
    color: var(--color-primary-dark);
    margin-left: var(--spacing-between);
    list-style: disc inside;
  }
  .content ol {
    color: var(--color-primary-dark);
    margin-left: var(--spacing-between);
    list-style: decimal inside;
  }
  .content blockquote {
    border-left: 4px solid var(--color-primary-dark);
    padding-left: 16px;
    padding: 8px;
    color: var(--color-primary-dark);
    background: white;
  }
  .content table {
    width: 100%;
  }
  .content th,
  .content td {
    border: 2px solid var(--color-primary-dark);
    padding-left: var(--spacing-sm);
    padding-right: var(--spacing-sm);
    padding-top: 5px;
    padding-bottom: 5px;
  }
  .content code {
    background: white;
    color: #c7254e;
    padding: 5px;
    padding-right: 10px;
    padding-left: 10px;
    font-size: var(--font-description);
  }
  .content pre code {
    font-size: var(--font-description);
    display: block;
    background: var(--color-primary-dark);
    color: var(--color-primary);
  }
  .content img {
    max-width: 1058px;
    max-height: 595px;
    width: 1058px;
    height: 595px;
    border-radius: var(--border-radius-md);
  }
  .content a {
    color: #2d6cdf;
    text-decoration: underline;
  }
</style>

<style>
  .knowledge-content {
    background-color: var(--color-primary);
  }
  .title {
    font-size: 64px;
  }
  .description {
    color: var(--color-primary0dark);
    font-size: 24px;
  }
  .date {
    color: var(--color-primary-dark);
    margin-bottom: 2rem;
    font-size: var(--font-description);
  }
  .content {
    width: 1280px;
    max-width: 100%;
    font-size: 24px;
    color: var(--color-primary-dark);
    padding-bottom: var(--spacing-between);
    padding-left: 110px;
    padding-right: 110px;
  }

  .hero-image-container {
    position: relative;
    display: inline-block;
    width: 100%;
    max-width: 1280px;
  }

  .hero-image {
    height: 643px;
    border-radius: var(--border-radius-md);
  }

  .image-description {
  position: absolute;
  left: 0;
  bottom: 0;
  width: 100%;
  background: var(--color-primary-dark);
  color: var(--color-primary);
  padding: var(--spacing-sm);
  font-size: 24px;
  border-radius: 0 0 var(--border-radius-md) var(--border-radius-md);
}
</style>
